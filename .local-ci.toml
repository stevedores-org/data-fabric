# local-ci configuration for data-fabric
# See: https://github.com/stevedores-org/local-ci

[cache]
skip_dirs = [".git", "target", ".github", "scripts", ".claude"]
include_patterns = ["*.rs", "*.toml"]

[stages.fmt]
command = ["cargo", "fmt", "--all", "--", "--check"]
fix_command = ["cargo", "fmt", "--all"]
timeout = 120
enabled = true

[stages.clippy]
command = ["cargo", "clippy", "--all", "--target", "wasm32-unknown-unknown", "--", "-D", "warnings"]
timeout = 600
enabled = true

[stages.check]
command = ["cargo", "check", "--target", "wasm32-unknown-unknown"]
timeout = 600
enabled = true

[stages.test]
command = ["cargo", "test"]
timeout = 1200
enabled = true

# Optional cargo tools â€” disabled until installed
[stages.deny]
enabled = false

[stages.audit]
enabled = false

[stages.machete]
enabled = false

[stages.taplo]
enabled = false

[dependencies]
required = []
optional = []

[workspace]
exclude = []
